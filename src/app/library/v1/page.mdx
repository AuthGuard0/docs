---
description: >-
  When you obfuscate your script with AuthGuard, the library is added  
  automatically. There is also a second option â€” using the library directly â€”  
  but itâ€™s not protected.
---

import { Image } from 'nextra/components'

# v1

`__SERVICE_ID__` implements automatically if you obfuscate with AuthGuard.

### ðŸ”— Get Key Link


```lua
AuthGuard.GetKeyLink({
  Service = __SERVICE_ID__
}) --> string
```

Returns the URL users must visit to get a key.

***

### âœ… Validate Key

```lua
AuthGuard.ValidateKey({
  Service = __SERVICE_ID__,
  Key = 'your_key_here'
}) --> string (invalid or validated)
```

Checks if the key is valid.
If the key is valid, it returns `validated`.
If the key is invalid, it returns `invalid`.

If the key is valid, it also updates the following environment variables:

- `AG_ExpiredAt`: number (UTC timestamp)
- `AG_Hwid`: string (HWID of the user)
- `AG_IsPremium`: boolean (whether the user is premium or not)
- `AG_DiscordId`: string (Discord ID of the user, if available)

### ðŸ§ª Example Usage

```lua
local key = "YOUR_KEY_HERE"

print("Get your key at:", AuthGuard.GetKeyLink({
  Service = __SERVICE_ID__,
}))

if AuthGuard.ValidateKey({
  Service = __SERVICE_ID__,
  Key = key
}) == 'invalid' then
    warn("Invalid Key")
    return
end

-- Your actual code starts here
print("Key valid. Running script...")
print("Your HWID is:", AG_Hwid)
print("Your key expires at:", os.date('%Y-%m-%d %H:%M:%S', AG_ExpiredAt))
if AG_IsPremium then
    print("You are a premium user!")
else
    print("You are a free user.")
end

print("Your Discord ID is:", AG_DiscordId or "Not linked")
```
